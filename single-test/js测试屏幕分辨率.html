<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>移动端屏幕分辨率 横竖屏 测试</title>

    <link rel="apple-touch-icon" href="../img/touch-icon-iphone.png" />
    <link rel="apple-touch-icon" sizes="72x72" href="../img/touch-icon-iphone.png" />
    <link rel="apple-touch-icon" sizes="114x114" href="../img/touch-icon-iphone.png" />
    <link href="malihu-custom-scrollbar-plugin-3.0.8/jquery.mCustomScrollbar.min.css" rel="stylesheet" type="text/css"/>

    <link />
    <script src="../Frame/jQuery/jquery-2.1.3.min.js"></script>
    <script src="malihu-custom-scrollbar-plugin-3.0.8/js/minified/jquery-ui-1.10.4.min.js"></script>
    <script src="malihu-custom-scrollbar-plugin-3.0.8/js/minified/jquery.mousewheel-3.0.6.min.js"></script>
    <script src="malihu-custom-scrollbar-plugin-3.0.8/js/minified/jquery.mCustomScrollbar.min.js"></script>


    <style>
        ul li{
            padding: 0;
            list-style: none;
        }
        .left{
            width: 47%;
            height:900px;
            /*padding: 10px;*/
            float: left;
            overflow-y: auto;
            border-left: 2px #79014d;

        }
        .right{
            margin-left: 2%;;
            width: 47%;
            height:900px;
            /*padding: 10px;*/
            float: right;
            overflow-y: auto;
            border-left: 2px #f24002;
        }
        img{
            width: 100%;
        }
        .one,.two{
            position: relative; /*position 影响滚动流畅度 */
            -webkit-left: 50%;;
        }
        /*touch 事件影响滚动流畅度*/
        html,body{
            -webkit-overflow-scrolling: touch;
        }
    </style>

</head>
<body>
<div style="width: 100%; height: 90%;border: 1px green;">
    <div class="left" >
        <ul></ul>
    </div>
    <div class="right">
        <ul></ul>
    </div>
</div>
<script type="text/javascript">
    function getInfo(){
        var s = "";
        s += " 网页可见区域宽："+ document.body.clientWidth+"\n";
        s += " 网页可见区域高："+ document.body.clientHeight+"\n";
        s += " 网页可见区域宽："+ document.body.offsetWidth + " (包括边线和滚动条的宽)"+"\n";
        s += " 网页可见区域高："+ document.body.offsetHeight + " (包括边线的宽)"+"\n";
        s += " 网页正文全文宽："+ document.body.scrollWidth+"\n";
        s += " 网页正文全文高："+ document.body.scrollHeight+"\n";
        s += " 网页被卷去的高(ff)："+ document.body.scrollTop+"\n";
        s += " 网页被卷去的高(ie)："+ document.documentElement.scrollTop+"\n";
        s += " 网页被卷去的左："+ document.body.scrollLeft+"\n";
        s += " 网页正文部分上："+ window.screenTop+"\n";
        s += " 网页正文部分左："+ window.screenLeft+"\n";
        s += " 屏幕分辨率的高："+ window.screen.height+"\n";
        s += " 屏幕分辨率的宽："+ window.screen.width+"\n";
        s += " 屏幕可用工作区高度："+ window.screen.availHeight+"\n";
        s += " 屏幕可用工作区宽度："+ window.screen.availWidth+"\n";
        s += " 你的屏幕设置是 "+ window.screen.colorDepth +" 位彩色"+"\n";
        s += " 你的屏幕设置 "+ window.screen.deviceXDPI +" 像素/英寸"+"\n";
        alert (s);
    }
    function addL(){
        var l=100;
        for (var i=0;i<=l;i++){
            $(".left").find("ul").append("<li><img src='../img/index_bg.png'/><span class='one'>"+i+"-1"+"</span></li>").append("<li><img src='../img/faguo.jpg'/><span class='two'>"+i+"-2"+"</span></li>");

        }
    }
    function addR(){
        var r=100;
        for (var i=0;i<=r;i++){
            $(".right").find("ul").append("<li><img src='../img/zhongzi.jpg'/><span class='one'>"+i+"-1"+"</span></li>").append("<li><img src='../img/meinv.jpg'/><span class='two'>"+i+"-2"+"</span></li>");
        }
    }

    addL();addR();

   /* function hengshuping(){
        if(window.orientation==180||window.orientation==0){
            alert("竖屏状态！")
        }
        if(window.orientation==90||window.orientation==-90){
            alert("横屏状态！")
        }
    }
    window.addEventListener("onorientationchange" in window ? "orientationchange" : "resize", hengshuping, false);
*/
//    $(window).on("orientationchange",function(){
//        if(window.orientation == 0)
//        {
//            alert("1");
//            //Portrait相关操作
//        }else{
//            alert("2");
//            //Landscape相关操作
//        }
//    });
    getInfo();
    $(document).ready(function() {
        $(".left1").mCustomScrollbar({
            autoHideScrollbar: true
            , set_width: false
            , set_height: false
            , horizontalScroll: false
            , scrollInertia: 550
            , scrollEasing: "easeOutCirc"
            //, mouseWheel:"auto"
            , autoDraggerLength: true
            ,
            scrollButtons: {
                enable: false,
                scrollType: "continuous",
                scrollSpeed: 400,
                scrollAmount: 40
            },
            advanced: {
                updateOnBrowserResize: true,
                updateOnContentResize: true,
                autoExpandHorizontalScroll: false,
                autoScrollOnFocus: true
            },
            callbacks: {
                onScrollStart: function () {
                },
                onScroll: function () {
                },
                onTotalScroll: function () {
                },
                onTotalScrollBack: function () {
                },
                onTotalScrollOffset: 0,
                whileScrolling: false,
                whileScrollingInterval: 30
            }
        });

        $(".right1").mCustomScrollbar({
            //autoHideScrollbar:true
            set_width: false
            , set_height: false
            , horizontalScroll: false
            , scrollInertia: 550
            , scrollEasing: "easeOutCirc"
            //, mouseWheel:"auto"
            , autoDraggerLength: true
            ,
            scrollButtons: {
                enable: false,
                scrollType: "continuous",
                scrollSpeed: 4000,
                scrollAmount: 40
            },
            advanced: {
                updateOnBrowserResize: true,
                updateOnContentResize: true,
                autoExpandHorizontalScroll: false,
                autoScrollOnFocus: true
            },
            callbacks: {
                onScrollStart: function () {
                },
                onScroll: function () {
                },
                onTotalScroll: function () {
                },
                onTotalScrollBack: function () {
                },
                onTotalScrollOffset: 0,
                whileScrolling: false,
                whileScrollingInterval: 30
            }
        });

    });

</script>
<!--操作系统判断-->
<script type="text/javascript">

    function detectOS() {
        var sUserAgent = navigator.userAgent;

        var isWin = (navigator.platform == "Win32") || (navigator.platform == "Windows");
        var isMac = (navigator.platform == "Mac68K") || (navigator.platform == "MacPPC") || (navigator.platform == "Macintosh") || (navigator.platform == "MacIntel");
        if (isMac) return "Mac";
        var isUnix = (navigator.platform == "X11") && !isWin && !isMac;
        if (isUnix) return "Unix";
        var isLinux = (String(navigator.platform).indexOf("Linux") > -1);

        var bIsAndroid = sUserAgent.toLowerCase().match(/android/i) == "android";
        if (isLinux) {
            if(bIsAndroid) return "Android";
            else return "Linux";
        }
        if (isWin) {
            var isWin2K = sUserAgent.indexOf("Windows NT 5.0") > -1 || sUserAgent.indexOf("Windows 2000") > -1;
            if (isWin2K) return "Win2000";
            var isWinXP = sUserAgent.indexOf("Windows NT 5.1") > -1 ||
                    sUserAgent.indexOf("Windows XP") > -1;
            if (isWinXP) return "WinXP";
            var isWin2003 = sUserAgent.indexOf("Windows NT 5.2") > -1 || sUserAgent.indexOf("Windows 2003") > -1;
            if (isWin2003) return "Win2003";
            var isWinVista= sUserAgent.indexOf("Windows NT 6.0") > -1 || sUserAgent.indexOf("Windows Vista") > -1;
            if (isWinVista) return "WinVista";
            var isWin7 = sUserAgent.indexOf("Windows NT 6.1") > -1 || sUserAgent.indexOf("Windows 7") > -1;
            if (isWin7) return "Win7";
        }
        return "other";
    }
    document.writeln("您的操作系统是：" + detectOS());
//    alert(detectOS());
</script>
<!--js判断设备类型是移动还是pc-->
<script type="text/javascript">
    // borwserRedirect
    (function browserRedirect(){
        var sUserAgent = navigator.userAgent.toLowerCase();
        var bIsIpad = sUserAgent.match(/ipad/i) == 'ipad';
        var bIsIphone = sUserAgent.match(/iphone os/i) == 'iphone os';
        var bIsMidp = sUserAgent.match(/midp/i) == 'midp';
        var bIsUc7 = sUserAgent.match(/rv:1.2.3.4/i) == 'rv:1.2.3.4';
        var bIsUc = sUserAgent.match(/ucweb/i) == 'web';
        var bIsCE = sUserAgent.match(/windows ce/i) == 'windows ce';
        var bIsWM = sUserAgent.match(/windows mobile/i) == 'windows mobile';

        if(bIsIpad || bIsIphone || bIsMidp || bIsUc7 || bIsUc || bIsCE || bIsWM){
//            alert("移动设备");
//            window.location.href = 'http://www.163.com/';
        }else{
//            alert("PC")
//            window.location.href = 'http://www.baidu.com/';
        }
    })();
</script>
<!--判断浏览器类型-->
<script>
    function getType() {
    var nav = navigator,
    s = nav.userAgent,
    res = 'unknow';

    if(s.indexOf('Chrome') !== -1) {
    if(nav.languages) {
    //360目前（6.3）不支持webkitPersistentStorage等以webkit开头的属性
    res = 'Chrome';
    }else {
    res = '360';
    }
    }else if(s.indexOf('Firefox') !== -1) {
    res = 'Firefox';
    }else if(isIECore()) {
    if(window.__IE_DEVTOOLBAR_CONSOLE_COMMAND_LINE) {
    res = '360';
    }else {
    if(s.indexOf('MSIE') !== -1) {
    res = s.split(';')[1].split('.')[0];
    }else {
    res = 'MSIE 11';
    }
    }
    }else if(s.indexOf('Opera') !== -1) {
    res = 'Opera';
    }else if(s.indexOf('Safari') !== -1) {
    res = 'Safari'
    }

    return res;
    }
    function isIECore() {
    var boo = true;

    try{
    new ActiveXObject("Microsoft.XMLHTTP");
    }catch(e) {
    boo = false;
    }
    return boo;
    }
    alert(getType())
</script>
<script>
//    var Sys = {};
//    var ua = navigator.userAgent.toLowerCase();
//    var s;
//    (s = ua.match(/msie ([d.]+)/)) ? Sys.ie = s[1] :
//            (s = ua.match(/firefox([d.]+)/)) ? Sys.firefox = s[1] :
//                    (s = ua.match(/chrome([d.]+)/)) ? Sys.chrome = s[1] :
//                            (s = ua.match(/opera.([d.]+)/)) ? Sys.opera = s[1] :
//                                    (s = ua.match(/version/([d.]+).*safari/)) ? Sys.safari = s[1] : 0;
//    //以下进行测试
//    if (Sys.ie) document.write('IE: ' + Sys.ie);
//    if (Sys.firefox) document.write('Firefox: ' + Sys.firefox);
//    if (Sys.chrome) document.alert('Chrome: ' + Sys.chrome);
//    if (Sys.opera) document.write('Opera: ' + Sys.opera);
//    if (Sys.safari) document.write('Safari: ' + Sys.safari);

    function validBrowser(){
        var u_agent = navigator.userAgent;
        var browser_name='Failed to identify the browser';
        if(u_agent.indexOf('Firefox')>-1){
            browser_name='Firefox';
        }else if(u_agent.indexOf('Chrome')>-1){
            browser_name='Chrome';
        }else if(u_agent.indexOf('Trident')>-1&&u_agent.indexOf('rv:11')>-1){
            browser_name='IE11';
        }else if(u_agent.indexOf('MSIE')>-1&&u_agent.indexOf('Trident')>-1){
            browser_name='IE(8-10)';
        }else if(u_agent.indexOf('MSIE')>-1){
            browser_name='IE(6-7)';
        }else if(u_agent.indexOf('Opera')>-1){
            browser_name='Opera';
        }else{
            browser_name+=',info:'+u_agent;
        }
        document.write('browser_name:'+browser_name+'<br>');
        document.write('u_agent:'+u_agent+'<br>');
    }
</script>
</body>
</html>
